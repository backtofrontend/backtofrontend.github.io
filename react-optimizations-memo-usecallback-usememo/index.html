<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:inherit;font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);border-left-color:inherit;opacity:0.8;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:var(--hr);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:var(--anchorLink);text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.anchor{box-shadow:none;}a.anchor svg[aria-hidden="true"]{stroke:var(--textLink);}a.gatsby-resp-image-link{box-shadow:none;}p code{font-size:1rem;}h1 code, h2 code, h3 code, h4 code, h5 code, h6 code{font-size:inherit;}li code{font-size:1rem;}</style><style data-href="/styles.879d5953d6851f9b1f24.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}body{--anchorLink:#3273dc;--navbarBackground:#f5f5f5;--navbarColor:#363636;--bg:#fff;--textColor:#222;--inlineCode-bg:rgba(240,218,79,0.2);--inlineCode-text:inherit;--boxShadow1:rgba(0,0,0,0.13);--boxShadow2:rgba(0,0,0,0.19);color:var(--textColor);background-color:var(--bg)}body.dark-mode{--anchorLink:#f0da4f;--navbarBackground:#000008;--navbarColor:#fff;--bg:#000008;--textColor:#fff;--boxShadow1:rgba(249,251,82,0.13);--boxShadow2:rgba(232,248,85,0.19);-webkit-font-smoothing:antialiased}.content blockquote{background-color:var(--navbarBackground)}.content h1,.content h2,.content h3,.content li{color:var(--textColor)}</style><meta name="generator" content="Gatsby 2.21.6"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=4fbdecf1a70dcbc33a368755113b72e9"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4fbdecf1a70dcbc33a368755113b72e9"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4fbdecf1a70dcbc33a368755113b72e9"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4fbdecf1a70dcbc33a368755113b72e9"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4fbdecf1a70dcbc33a368755113b72e9"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4fbdecf1a70dcbc33a368755113b72e9"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4fbdecf1a70dcbc33a368755113b72e9"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4fbdecf1a70dcbc33a368755113b72e9"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4fbdecf1a70dcbc33a368755113b72e9"/><title data-react-helmet="true">React Optimizations - Memo, useCallback, useMemo | Welcome Back to Front End and Beyond</title><meta data-react-helmet="true" name="description" content="This time we will take a look at few of Reacts optimization hooks and methods. Breaking down each of them and putting them to good use in proper places."/><meta data-react-helmet="true" name="google-site-verification" content="ZMIMaQfLKuh0W2UUV2Zbm0F76I-gpMgYoJwZGGqyQfs"/><meta data-react-helmet="true" property="og:title" content="React Optimizations - Memo, useCallback, useMemo"/><meta data-react-helmet="true" property="og:description" content="This time we will take a look at few of Reacts optimization hooks and methods. Breaking down each of them and putting them to good use in proper places."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="GRihter"/><meta data-react-helmet="true" name="twitter:title" content="React Optimizations - Memo, useCallback, useMemo"/><meta data-react-helmet="true" name="twitter:description" content="This time we will take a look at few of Reacts optimization hooks and methods. Breaking down each of them and putting them to good use in proper places."/><link as="script" rel="preload" href="/webpack-runtime-42f79a7efa6b2e769d16.js"/><link as="script" rel="preload" href="/framework-43cb9c7d8861ab3da0ef.js"/><link as="script" rel="preload" href="/styles-36545e8a3312da9190c5.js"/><link as="script" rel="preload" href="/app-abe7318d9e934a93bf57.js"/><link as="script" rel="preload" href="/9b2933e5-2908a7e07cbafca7f6c6.js"/><link as="script" rel="preload" href="/5ab70dd3b6ca162de984cbbccc8160d1acdf6f38-2f653c586da1cff90e3b.js"/><link as="script" rel="preload" href="/022d3153bf09c36cd784dcdb36ffbd187f9c96d7-7d10ed11120b780c6738.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-tsx-90b5fcfc0dea56646b7f.js"/><link as="fetch" rel="preload" href="/page-data/react-optimizations-memo-usecallback-usememo/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>!function(e,a,o){function d(e){document.body.classList.add(e?"dark-mode":"light-mode"),document.body.classList.remove(e?"light-mode":"dark-mode")}var t=window.matchMedia("(prefers-color-scheme: dark)"),r="(prefers-color-scheme: dark)"===t.media,s=null;try{s=localStorage.getItem("darkMode")}catch(e){}var c=null!==s;if(c&&(s=JSON.parse(s)),c)d(s);else if(r)d(t.matches),localStorage.setItem("darkMode",t.matches);else{var l=document.body.classList.contains("dark-mode");localStorage.setItem("darkMode",JSON.stringify(l))}}();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><div class="dark-mode-toggle" style="position:absolute;top:0.4375rem;right:0.4375rem;width:1.75rem;height:1.75rem;border-radius:50%;cursor:pointer;color:gold;display:flex;align-items:center;justify-content:center;background-color:darkslateblue"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="sun__icon" height="16px" width="16px" xmlns="http://www.w3.org/2000/svg"><path d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"></path></svg></div><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;color:inherit" href="/">Welcome Back to Front End and Beyond</a></h3></header><main><article><header><h1 style="margin-top:1.75rem;margin-bottom:0">React Optimizations - Memo, useCallback, useMemo</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem">Posted on <!-- -->January 08, 2021<!-- --> |<!-- --> <!-- -->8 min read<!-- --> |<!-- --> </p></header><section><p><a id="-"></a></p>
<ul>
<li><a href="#intro">What this guide is about?</a></li>
<li><a href="#memo">React.memo</a></li>
<li>
<p><a href="#use-callback">React.useCallback</a></p>
<ul>
<li><a href="#referential-equality">Referential equality</a></li>
<li><a href="#referential-equality-cheat-sheet">Referential equality cheat-sheet</a></li>
<li><a href="#optimizing-with-use-callback">Optimizing with useCallback</a></li>
</ul>
</li>
<li><a href="#use-memo">React.useMemo</a></li>
<li><a href="#optimize-everything">Should I optimize everything from now on?</a></li>
<li><a href="#additional-resources">Additional Resources</a></li>
</ul>
<br>
<h2 id="intro"><a href="#-">^ What this guide is about?</a></h2>
<p>If you, dear traveler, are anything like me and you still get confused about when you should use some of Reacts built-in methods and hooks. <em>I.e. memo, useMemo and useCalback</em>.</p>
<p>I’m glad you joined me. We will break down and analyze each of them and figure out when and how to use them.</p>
<p>These functions mean to help us optimize performance. But each has a specific use case.</p>
<hr>
<h2 id="memo"><a href="#-">^ React.memo</a></h2>
<p>We’ll start with <em>React.memo</em> first.</p>
<p>Let’s say you have a Parent component that has a blue state with a number value that changes onClick inside it. And that Parent has a Child component to which we pass a red state, with a number value that never changes.</p>
<h3>Parent</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> Parent<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">FunctionComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>blue<span class="token punctuation">,</span> setBlue<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">></span></span><span class="token plain-text">(0);
  const [red] = useState</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">></span></span><span class="token plain-text">(0);

  const incrementBlueCount = () => </span><span class="token punctuation">{</span>
    <span class="token function">setBlue</span><span class="token punctuation">(</span>blue <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token plain-text">;

  return (
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        blue count: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>blue<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>incrementBlueCount<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Increment Blue</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child</span></span> <span class="token attr-name">childCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>red<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
  );
};

export default Parent;</span></code></pre></div>
<h3>Child</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">ChildProps</span> <span class="token punctuation">{</span>
  childCount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Child<span class="token operator">:</span> React<span class="token punctuation">.</span>FunctionComponent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ChildProps</span></span><span class="token punctuation">></span></span><span class="token plain-text"> = ({ childCount }) => </span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child renders'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
        red count: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>childCount<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">disabled</span><span class="token punctuation">></span></span><span class="token plain-text">Change Red</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">;

export default Child;</span></code></pre></div>
<p>If the blue state of the Parent bound to an onClick handler would have changed. Even though we wouldn’t pass that state to the Child as a prop, the Child would still re-render.</p>
<p><img src="/ad14549820cddc47c007621eebdeafd1/preReactMemo.gif" alt="Example"></p>
<p align="center">
    <i>Child component re-renders by default each time when we change Parent's local state</i>
</p>
<blockquote>
<p>”When parent components’ state changes React will recursively re-render all of its children. Unless we tell him no to.”</p>
</blockquote>
<p>To fix that. We could wrap the Child component export with a <em>React.memo</em> method.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">memo</span><span class="token punctuation">(</span>Child<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>And as simple as that, we told the Child component to re-render only when its props are actually changing.</p>
<p><img src="/8afefe2406f93b53cfe44a0dec48f30c/postReactMemo.gif" alt="Example"></p>
<p align="center">
    <i>Child component does not re-render each time when we change Parent's local state</i>
</p>
<hr>
<h2 id="use-callback"><a href="#-">^ React.useCallback</a></h2>
<p>To illustrate when we should be using the <em>useCallback</em> hook, first, we will break the optimization of the Child component.</p>
<p>Let’s create a function for changing the state which we are passing down to our Child, the red state.</p>
<p>Where that function would receive an argument as a number coming back from the Child. And inside the function we would call the state handler to set it to that new number.</p>
<p>Let’s pass the function as a prop to the Child component.
And finally, let’s add a function inside the Child component that will call the props function.</p>
<h3>Parent</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>red<span class="token punctuation">,</span> setRed<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">></span></span><span class="token plain-text">(0);
// ...
const changeRedCount = (random: number) => </span><span class="token punctuation">{</span>
  <span class="token function">setRed</span><span class="token punctuation">(</span>random<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">;
// ...
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child</span></span> <span class="token attr-name">childCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>red<span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeRedCount<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">;
// ...</span></code></pre></div>
<h3>Child</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">ChildProps</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token function">onClick</span><span class="token punctuation">(</span>num<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
<span class="token keyword">const</span> <span class="token function-variable function">onIncrementRedCountClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onIncrementRedCountClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Change Red</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token comment">// ...</span></code></pre></div>
<p>By simply passing the function as a prop, even if we were to click only the button in the Parent component. Triggering the blue state update, while not changing the red state, passed to the Child component. We would go back to the previous behavior where our Child would re-render on every local state change within the Parent.</p>
<p>So why does our <em>React.memo</em> optimization break in that case? The reason to why that happens is <em>referential equality</em>.</p>
<h3 id="referential-equality"><a href="#-">^ Referential equality</a></h3>
<p>If you were to compare 2 variables with a same value,</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isEqual <span class="token operator">=</span> x <span class="token operator">===</span> y<span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre></div>
<p>the evaluation returns true.</p>
<p>But if you were to compare 2 objects, each with a key in it, whose value is 10</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isEqual <span class="token operator">=</span> x <span class="token operator">===</span> y<span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre></div>
<p>the evaluation returns false.</p>
<p>Because whenever we are comparing objects inside the JS, what we are actually comparing is their referential equality. Roughly, we’re trying to check if both objects are allocated in the same space in memory.</p>
<p>If you were instead to say</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> x<span class="token punctuation">;</span>
<span class="token comment">// then</span>
<span class="token keyword">const</span> isEqual <span class="token operator">=</span> x <span class="token operator">===</span> y<span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre></div>
<p>But not because they are now both the same objects that have the same keys whose value is 10.</p>
<p>Instead, both of the variables are now pointing to the same space in memory. We don’t have a new object but a new variable pointing to that same object.</p>
<h3 id="referential-equality-cheat-sheet"><a href="#-">^ Referential equality cheat-sheet</a></h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token boolean">true</span> <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token comment">// true</span>
<span class="token boolean">false</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token comment">// true</span>
<span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1</span> <span class="token comment">// true</span>
<span class="token string">'a'</span> <span class="token operator">===</span> <span class="token string">'a'</span> <span class="token comment">// true</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// false</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// false</span>
<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// false</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> x
x <span class="token operator">===</span> y <span class="token comment">// true</span></code></pre></div>
<h3 id="optimizing-with-use-callback"><a href="#-">^ Optimizing with useCallback</a></h3>
<p>Now to get back to our example. So far on every single render we are now creating a brand new function (object). And React is not trying to compare the values of the function prop, instead it is checking for referential equality. Latter being a slightly less expensive operation.</p>
<p>To fix that problem as well. Let’s introduce the <em>useCallback</em> hook. By creating a memoized callback function, throughout the whole life-cycle of the component, it will remain the same. The values passed to the function might change, but the function itself will stay referentially the same.</p>
<h3>Parent</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>
<span class="token keyword">const</span> changeRedCount <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">random<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">setRed</span><span class="token punctuation">(</span>random<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span></code></pre></div>
<p><strong>Important</strong> thing to remember when using the useCallback hook. As a rule of thumb, in the dependency array at the end we need to include anything that is being used inside the function. With a few exceptions.</p>
<p>Notice we are omitting the state setter <em>setRed</em> as a dependency, as it is unnecessary since React ensures that the setter function will remain the same throughout the life-cycle of the component.</p>
<p>And the second <strong>important</strong> thing is; If you are using a helper function or a variable only inside the <em>useCallback</em> function, instead of defining them outside its scope, nest everything inside the function body.</p>
<p>This improves readability, prevents unnecessary bugs, and allows you to avoid putting those helpers or vars as dependencies in the useCallback dependency array.</p>
<p>Now everything is back on track, and our Child component only re-renders when its props change.</p>
<p><img src="/8d6660d2b86e205cb68973623dab623d/useCallback.gif" alt="Example"></p>
<p align="center">
    <i>Child component only re-renders each time when we change Child's incoming props (red state)</i>
</p>
<hr>
<h2 id="use-memo"><a href="#-">^ React.useMemo</a></h2>
<p>Final hook we can use to optimize our React components is a <em>useMemo</em> hook.</p>
<p>Let’s first introduce a new, green state, inside our Parent component. An array of numbers. And what we’re going to want to see is the largest number from that array displayed on our page.</p>
<h3>Parent</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>green<span class="token punctuation">,</span> setGreen<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span><span class="token builtin">Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">></span></span><span class="token plain-text">>([1, 5, 3, 4, 2]);
// ...
const changeGreen = () => </span><span class="token punctuation">{</span>
  <span class="token function">setGreen</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">;

const highestNumber = () => </span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'determining winner'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>green<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">;
// ...
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>winner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  green is: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token function">highestNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeGreen<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Change Green</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">;
// ...</span></code></pre></div>
<p>Presumably that would be an expensive operation, so we wouldn’t want to preform it on every single render. The way it is behaving right now.</p>
<p><img src="/2a51bf2595469fb7e9bcff16b9073969/preUseMemo.gif" alt="Example"></p>
<p align="center">
    <i>The highestNumber function is triggered each time when we change Parent's state. Or simply on every render</i>
</p>
<p>Once again, let’s intervene. We’re going to change our <em>highestNumber</em> function to return a memoized value. Using the <em>useMemo</em> hook, as follows…</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>
<span class="token keyword">const</span> highestNumberMemoized <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'determining winner'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>green<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>green<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
green <span class="token keyword">is</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>highestNumberMemoized<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token comment">// ...</span></code></pre></div>
<p>Don’t forget to add the green state as a dependency to the array at the end. To ensure that highestNumber gets recalculated only when the green state changes.</p>
<p>That’s it. We can observe the fruits of our labor in action.</p>
<p><img src="/bdcad7d301d15c53a2da6cee021f6246/postUseMemo.gif" alt="Example"></p>
<p align="center">
    <i>The highestNumberMemoized function is triggered only when the green state changes</i>
</p>
<!-- <hr> -->
<!-- WIP Stale Props -->
<hr>
<h2 id="optimize-everything"><a href="#-">^ Should I optimize everything from now on?</a></h2>
<p>Nope. There is no free lunch.</p>
<blockquote>
<p>When should you NOT use React memo?</p>
<blockquote>
<p>”I would assume that the same general advice applies for React.memo as it does for shouldComponentUpdate and PureComponent: doing comparisons does have a small cost, and there’s scenarios where a component would never memoize properly (especially if it makes use of props.children). So, don’t just automatically wrap everything everywhere. See how your app behaves in production mode, use React’s profiling builds and the DevTools profiler to see where bottlenecks are, and strategically use these tools to optimize parts of the component tree that will actually benefit from these optimizations.”</p>
</blockquote>
</blockquote>
<p>As stated <a href="https://github.com/facebook/react/issues/14463#issuecomment-448829902">here</a>.</p>
<h2 id="additional-resources"><a href="#-">^ Additional Resources</a></h2>
<p><a href="https://kentcdodds.com/blog/usememo-and-usecallback">When to useMemo and useCallback - by Kent C. Dodds</a></p>
<p><a href="https://reactjs.org/docs/hooks-intro.html">Introducing Hooks - official React docs</a></p>
<p><a href="https://overreacted.io/a-complete-guide-to-useeffect/">A Complete Guide to useEffect - by Dan Abramov</a></p>
<p><a href="https://www.bitnative.com/2020/07/16/four-reasons-react-renders-and-three-ways-to-stop-it/">Four Reasons React Renders (and three ways to stop it) - by Cory House</a></p></section><hr style="margin-bottom:1.75rem"/><footer><div style="display:flex;margin-bottom:4.375rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAFY0lEQVQ4yz3UWVBTdxTH8bz3pQ8dO2M703Zq61RbO23di5UR3OpSFxRE3FlEhLAlIZAAsgkpuIC2tkPVUtwqIFZAAa0osoXFEBI2ATEiW1BZk0CAb//oTJ/unf/c+czvnP+5R7Jyw2bWbHVho6sH2/d6sscngEP+ofgGhyNVRBMWlURYXBqh6hSiY9OIT8kg9Vw2v6Tn8tvFPP64XEjG1XtczSnlRl4VkjVbd7DJdQ8u+7wE5o93oAJ/uZogZSzKY8koojUcO+JJnvoAdb+reHAxlb8uZHM+s5g/r93l8vUSruc84laeloJiHZItbnvZKbD9h6X4BMgJEJg8Io7o+JMERyQQssUR/TFXLPnJ2EovMam9wfPCTK5l5nJFQDdyy8kv0FJ4t477JQYkbge8BRbAYamCgFAVClU86mMa4n8+h/v61Vxy+Qbz5WiGHmYypnuApfkxkw2lNOZdITv7AbeL6ii++5gSgZU9akbyNpmMQHkkCnU8kTHJJGp+JTwymV3ffkKJrzPmq3GMVuViaShn/IkBe6uOl2W3yM+5Q9G/Bu7d1/OotJnK8jYkh0XPpKJMZWQC0XEniE88S+qZTAKDInH++F1u+jjRcTaY17fPY627z1jNA4YrCuguzqQg6x/uPWwR6YyUl7VSU9WBxF+UKYuIQR2jIfZ4KglJaaScTOeIbxCL3n+HmLVfcWGPIyVHNzNanEGdxp9b8l08uZZKUXY+pWVtotQWqqraqdUKUBYRK3qWJNKlCPAUUaJ/M2k9tm9n2+fvkee3Ee0JGWWhLvQK5Hn2WYwZGl4KXHenhLKKDior26iufoqu7hkS1QwWn0JUbDIRAgoMVbJ73z6cHJfjs/AjBrNOMPEwh2alB4MFl7DXlzPdWMO4oQrjw2oqq55RU90pMBPG+i4kEdGJ4iI0/2N7D3mybq0jixctYNO8D3n6q4L6WF9iln9GrUZG35XT9Oec49WjfGqLS6l9/AJdrQmDwJoaXiAJF5BSjEpIWBTefv64uruzxsmBJQJcNmc2uUfWk+jwKaed51MZvI062U50KtHDjOOUFVZg0Pdh1HXR3NBNq7FHgOoE5MoYpCKdl+9R3Nx3s3bVD6z8fiFzZs8i3Xsd2rDdlHq70HPxhEh3CXNuGgWxflRXtNOo76FFYO3GXjqa+kXJAgwTf4Y0NBwfvwDcPTxYv9qJVQ5LWfDlPJzmfoBWuQNTnA+dyTJorqHz7+NkJaipbxhAP5PO0Ed7Yz/tb8DI46iiEgmWq/D1D2TP/v1s/HEtaxwdcHRYzqL5X+A2bxZ3vNbRGu9HvRibQvlWBqqLGOgbw2waoKdNgE1mzF2DM2DCG1CujOKoNJiDnp5s27IRpxXLWLp4ITudV+C/Yi4Hvp7N2R1LyA9zpa88l2nzU7BPYWlrxdZvZtxiZ3rC/jahWoDhqhiCQuQc8vJiy4bV7Hdz4VSIF5qt35F50JmqRB96ii4w2VHLdF879oFeJl4PM2jQMTVuf/NuH7EiiRSDrI5+C0qDZPj5Hib9TBqDTzqwtjShPxPKvdCf6L15CntbjTjTYutswD44jKXLhK2vm4nhUfEcwGLqFoMdk8TMTftJZajDI+io1cH4NLbufoE+xdL5BNPlKLqykhiuzGGo/DpjbY1MWu2MdLSJVKNYerqZsk2KtGJ9hahixeqSo1CE87xWz5R5iIkRm+jLa/qqtYyYerB2tjBUkUV/fhpmsRhs4psp6wSvmo1v0w28Yto6xWCTWF9HQsLZd8iLmqJiGLRh6X3F+MAwo509jJl6eak3Yu0fYnJEnLU3MPail8mxcXFm5qWxHvuwBfuolcnRCV7rDfwHVcuAU6YQlwwAAAAASUVORK5CYII=" alt="Goran Rihter" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/8ff2e0aaf78600e4545abf561f0526a2/8ba1e/profile-pic.png 1x,
/static/8ff2e0aaf78600e4545abf561f0526a2/f937a/profile-pic.png 1.5x,
/static/8ff2e0aaf78600e4545abf561f0526a2/71eb7/profile-pic.png 2x" /><img loading="lazy" width="50" height="50" srcset="/static/8ff2e0aaf78600e4545abf561f0526a2/8ba1e/profile-pic.png 1x,
/static/8ff2e0aaf78600e4545abf561f0526a2/f937a/profile-pic.png 1.5x,
/static/8ff2e0aaf78600e4545abf561f0526a2/71eb7/profile-pic.png 2x" src="/static/8ff2e0aaf78600e4545abf561f0526a2/8ba1e/profile-pic.png" alt="Goran Rihter" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>Goran Rihter</strong> <!-- --> who lives in Croatia and works at<!-- --> <a href="https://www.syskit.com/?utm_source=backtofrontend&amp;utm_medium=blog_post&amp;utm_campaign=brand_boost">SysKit</a>.<br/>He likes thinkering with Front End developement and exploring other semi-related interests.<!-- --> </p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/basic-overview-office-365/">← <!-- -->Basic Overview - Bite Sized Office 365</a></li><li></li></ul></nav></main><footer>© <!-- -->2021<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-158905833-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/react-optimizations-memo-usecallback-usememo/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-abe7318d9e934a93bf57.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-5a41c9fa70343d2fe7c0.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-5874b3f5d05a9280a196.js"],"component---src-templates-blog-post-tsx":["/component---src-templates-blog-post-tsx-90b5fcfc0dea56646b7f.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-tsx-90b5fcfc0dea56646b7f.js" async=""></script><script src="/022d3153bf09c36cd784dcdb36ffbd187f9c96d7-7d10ed11120b780c6738.js" async=""></script><script src="/5ab70dd3b6ca162de984cbbccc8160d1acdf6f38-2f653c586da1cff90e3b.js" async=""></script><script src="/9b2933e5-2908a7e07cbafca7f6c6.js" async=""></script><script src="/app-abe7318d9e934a93bf57.js" async=""></script><script src="/styles-36545e8a3312da9190c5.js" async=""></script><script src="/framework-43cb9c7d8861ab3da0ef.js" async=""></script><script src="/webpack-runtime-42f79a7efa6b2e769d16.js" async=""></script></body></html>